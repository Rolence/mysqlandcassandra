<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.1.xsd">
<changeSet id="002" author="ara">
    <createTable tableName="m_user">
        <column autoIncrement="true" name="id" type="BIGINT">
            <constraints nullable="false" primaryKey="true"/>
        </column>
        <column name="username" type="VARCHAR(256)">
            <constraints nullable="false"/>
        </column>
        <column name="email" type="VARCHAR(256)">
            <constraints nullable="false" primaryKey="true" unique="true"/>
        </column>
        <column name="firstname" type="VARCHAR(256)">
            <constraints nullable="false"/>
        </column>
        <column name="lastname" type="VARCHAR(256)">
            <constraints nullable="false"/>
        </column>
        <column name="password" type="VARCHAR(256)">
            <constraints nullable="false"/>
        </column>
    </createTable>
</changeSet>
    <changeSet id="003" author="ara">
        <createTable tableName="transactionEntity">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="transaction_id" type="VARCHAR(256)">
                <constraints nullable="false" primaryKey="true" unique="true"/>
            </column>
            <column name="transfer_fee" type="DECIMAL(19, 6)">
                <constraints nullable="false" />
            </column>
            <column name="total_money_to_receive" type="DECIMAL(19, 6)">
                <constraints nullable="false"  />
            </column>
            <column name="approve_by" type="VARCHAR(300)"/>
            <column name="exchange_rate" type="DECIMAL(19, 6)">
                <constraints nullable="false"/>
            </column>
            <column name="approval_date" type="datetime"/>
            <column type="varchar(256)" name="sender_email"><constraints nullable="false"/></column>

        </createTable>
    </changeSet>

    <changeSet id="005" author="ara">
        <createTable tableName="senderEntity">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="country" type="VARCHAR(256)">
                <constraints nullable="false" />
            </column>
            <column name="is_active" type="boolean">
                <constraints nullable="false" />
            </column>

        </createTable>
    </changeSet>
<changeSet author="ara" id="129">
    <createTable tableName="m_portfolio_command_source">
        <column autoIncrement="true" name="id" type="BIGINT">
            <constraints nullable="false" primaryKey="true"/>
        </column>
        <column name="action_name" type="VARCHAR(50)">
            <constraints nullable="false"/>
        </column>
        <column name="entity_name" type="VARCHAR(50)">
            <constraints nullable="false"/>
        </column>
        <column defaultValueComputed="NULL" name="office_id" type="BIGINT"/>
        <column defaultValueComputed="NULL" name="group_id" type="BIGINT"/>
        <column defaultValueComputed="NULL" name="client_id" type="BIGINT"/>
        <column defaultValueComputed="NULL" name="loan_id" type="BIGINT"/>
        <column defaultValueComputed="NULL" name="savings_account_id" type="BIGINT"/>
        <column name="api_get_url" type="VARCHAR(100)">
            <constraints nullable="false"/>
        </column>
        <column defaultValueComputed="NULL" name="resource_id" type="BIGINT"/>
        <column defaultValueComputed="NULL" name="subresource_id" type="BIGINT"/>
        <column name="command_as_json" type="TEXT">
            <constraints nullable="false"/>
        </column>
        <column name="maker_id" type="BIGINT">
            <constraints nullable="false"/>
        </column>
        <column name="made_on_date" type="datetime">
            <constraints nullable="false"/>
        </column>
        <column defaultValueComputed="NULL" name="checker_id" type="BIGINT"/>
        <column defaultValueComputed="NULL" name="checked_on_date" type="datetime"/>
        <column name="processing_result_enum" type="SMALLINT">
            <constraints nullable="false"/>
        </column>
        <column defaultValueComputed="NULL" name="product_id" type="BIGINT"/>
        <column name="transaction_id" type="VARCHAR(100)"/>
        <column defaultValueComputed="NULL" name="creditbureau_id" type="BIGINT"/>
        <column defaultValueComputed="NULL" name="organisation_creditbureau_id" type="BIGINT"/>
    </createTable>
</changeSet>
</databaseChangeLog>